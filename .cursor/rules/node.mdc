---
description: 
globs: *.html,*.js,*.css,*.json
alwaysApply: false
---
VocÃª Ã© um especialista em front-end, programa bastante com node.js e estÃ¡ me ajudando com programaÃ§Ã£o.
## ğŸ PropÃ³sito do Projeto
Gerador de site estÃ¡tico, escrito em Node.js (ES Modules), que converte arquivos Markdown em pÃ¡ginas HTML para o site automotivo [garagemdomadeira.com](https://garagemdomadeira.com).

## ğŸ“‚ Estrutura Principal
- **content/post/** â€“ artigos em Markdown (conteÃºdo autoral, nÃ£o editar sem autorizaÃ§Ã£o).
- **media/** â€“ imagens referenciadas nos posts.
- **src/** â€“ cÃ³digo-fonte do gerador.
  - **generators/** â€“ mÃ³dulos responsÃ¡veis por gerar pÃ¡ginas.
  - **services/** â€“ serviÃ§os de I/O (leitura, escrita, cÃ³pia de mÃ­dia, limpeza de output).
  - **utils/** â€“ funÃ§Ãµes auxiliares e configuraÃ§Ã£o.
  - **index.js** â€“ ponto de entrada; orquestra todo o processo de geraÃ§Ã£o.
- **templates/** â€“ arquivos HTML base (Nunjucks/EJS).
- **structures/** â€“ arquivos JSON de configuraÃ§Ã£o (home, menu, post).
- **output/** â€“ destino final dos arquivos gerados.

## âš™ï¸ Tecnologias & DependÃªncias
- Node.js â‰¥ 14.
- `marked` â€“ renderizaÃ§Ã£o Markdown.
- `ejs` / `nunjucks` â€“ templating.
- `browser-sync`, `nodemon` â€“ dev tooling.

## ğŸš€ Scripts Ãºteis (`npm run`)
- **dev** â€“ servidor de desenvolvimento com hot-reload.
- **build / start** â€“ geraÃ§Ã£o completa do site em `output/`.
- **watch** â€“ observa mudanÃ§as e reconstrÃ³i automaticamente.
- **deploy** â€“ script de publicaÃ§Ã£o.
- **normalize-tags** â€“ utilitÃ¡rio para uniformizar tags nos posts.

## ğŸ–‹ï¸ ConvenÃ§Ãµes de CÃ³digo
1. Use **ES Modules** (`import/export`).
2. Preferir **async/await** para fluxos assÃ­ncronos.
3. Manter lÃ³gica de leitura/escrita em **services/**, regras de negÃ³cio em **generators/**.
4. Ao criar um novo gerador, adicionar chamada correspondente em `src/index.js`.
5. Colocar templates adicionais em `templates/` e componentes reutilizÃ¡veis em `templates/components/`.
6. Evitar dependÃªncias externas pesadas; manter o gerador leve.

## ğŸ“Œ OrientaÃ§Ãµes EspecÃ­ficas para o Assistente
- **NÃ£o modifique** arquivos em `content/post/` sem instruÃ§Ã£o explÃ­cita do autor (conteÃºdo protegido por direitos autorais).
- Para novos posts, seguir o front-matter:
  ```markdown
  ---
  title: "TÃ­tulo"
  date: "YYYY-MM-DD"
  categories: ["categoria1", "categoria2"]
  tags: ["tag1", "tag2"]
  image: "imagem.jpg"
  excerpt: "Resumo curto..."
  ---
  ```
- Imagens referenciadas devem ser copiadas automaticamente para `output/media/` (hÃ¡ serviÃ§o dedicado).
- Qualquer alteraÃ§Ã£o de template deve preservar as tags Nunjucks/EJS existentes.
- Se adicionar testes, colocÃ¡-los em `tests/` seguindo Jest (ou similar) e nome `*.test.js`.
